{"ast":null,"code":"var _jsxFileName = \"/home/sanjit/Downloads/facial-recognition-login-master/React side/src/verify.js\";\nimport React, { Component } from 'react';\nimport { Homepage } from './Homepage.js';\nimport './css/main.css';\nimport './css/util.css';\nimport './verify.css';\nimport Sketch from \"react-p5\";\n\nconst axios = require('axios');\n\nlet video;\nexport class Verify extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      verify: false,\n      idenity: ' ',\n      userData: ' '\n    };\n  }\n\n  setup(p5 = '', canvasParentRef = '') {\n    p5.noCanvas();\n    video = p5.createCapture(p5.VIDEO);\n  }\n\n  stop() {\n    const tracks = document.querySelector(\"video\").srcObject.getTracks();\n    tracks.forEach(function (track) {\n      track.stop();\n    });\n  }\n\n  logout() {\n    this.stop();\n    this.props.backhome();\n  }\n\n  setup2() {\n    const button = document.getElementById('submit');\n    button.addEventListener('click', async event => {\n      video.loadPixels();\n      console.log(video.canvas);\n      const image64 = video.canvas.toDataURL();\n      const data = {\n        image64\n      };\n      const options = {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(data)\n      };\n      const response = await axios.post('http://localhost:5000/verify', {\n        'image64': image64\n      });\n      console.log(response.data.identity);\n\n      if (response.data.identity) {\n        this.stop();\n        this.setState({\n          verify: true,\n          idenity: response.data.identity\n        });\n      } else {\n        this.stop();\n        alert(\"Not a registered user!\");\n        this.props.backhome();\n      }\n    });\n  }\n\n  render() {\n    let verify = React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"limiter\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"container-login100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"wrap-login100 p-l-110 p-r-110 p-t-62 p-b-33\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      className: \"login100-form-title p-b-53\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, \"Sign In With\"), React.createElement(\"span\", {\n      className: \"txt1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }, \"Email Id\"), React.createElement(\"div\", {\n      className: \"wrap-input100 validate-input\",\n      \"data-validate\": \"Username is required\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"mood1\",\n      className: \"input100\",\n      type: \"email\",\n      name: \"email\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    })), React.createElement(\"span\", {\n      className: \"txt1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, \"Password\"), React.createElement(\"div\", {\n      className: \"wrap-input100 validate-input\",\n      \"data-validate\": \"Username is required\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      id: \"mood2\",\n      className: \"input100\",\n      type: \"password\",\n      name: \"password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"focus-input100\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    })), React.createElement(Sketch, {\n      setup: this.setup,\n      draw: this.draw,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"container-login100-form-btn m-t-17\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      id: \"submit\",\n      onClick: this.setup2.bind(this),\n      className: \"login100-form-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, \"Login\")), React.createElement(\"div\", {\n      className: \"container-login100-form-btn m-t-17\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, React.createElement(\"button\", {\n      onClick: this.logout.bind(this),\n      className: \"login100-form-btn\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Back!\"))))), React.createElement(\"div\", {\n      id: \"dropDownSelect1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }));\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, this.state.verify ? React.createElement(Homepage, {\n      name: this.state.idenity,\n      backhome: this.logout,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }) : verify);\n  }\n\n}\nexport default Verify;","map":{"version":3,"sources":["/home/sanjit/Downloads/facial-recognition-login-master/React side/src/verify.js"],"names":["React","Component","Homepage","Sketch","axios","require","video","Verify","constructor","props","state","verify","idenity","userData","setup","p5","canvasParentRef","noCanvas","createCapture","VIDEO","stop","tracks","document","querySelector","srcObject","getTracks","forEach","track","logout","backhome","setup2","button","getElementById","addEventListener","event","loadPixels","console","log","canvas","image64","toDataURL","data","options","method","headers","body","JSON","stringify","response","post","identity","setState","alert","render","draw","bind"],"mappings":"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","sourcesContent":["import React, {Component} from 'react';\r\nimport {Homepage} from './Homepage.js';\r\nimport './css/main.css';\r\nimport './css/util.css';\r\nimport './verify.css';\r\nimport Sketch from \"react-p5\";\r\nconst axios = require('axios');\r\n\r\nlet video;\r\n\r\nexport class Verify extends Component {\r\n\r\n\tconstructor(props){\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\tverify : false,\r\n\t\t\tidenity: ' ',\r\n\t\t\tuserData: ' '\r\n\t\t};\r\n\t}\r\n\r\n\tsetup(p5='', canvasParentRef='') {\r\n        p5.noCanvas();\r\n        video = p5.createCapture(p5.VIDEO);        \r\n    }\r\n\r\n    stop(){\r\n    \tconst tracks = document.querySelector(\"video\").srcObject.getTracks();\r\n\t\t  \ttracks.forEach(function(track) {\r\n    \t\t\t\ttrack.stop();\r\n  \t\t\t});\r\n    }\r\n\r\n    logout(){\r\n    \tthis.stop();\r\n    \tthis.props.backhome();\r\n    }\r\n\r\n    setup2(){\r\n    \tconst button = document.getElementById('submit');\r\n        button.addEventListener('click', async event => {\r\n          video.loadPixels();\r\n          console.log(video.canvas);\r\n          const image64 = video.canvas.toDataURL();\r\n          const data = { image64 };\r\n          const options = {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json'\r\n            },\r\n            body: JSON.stringify(data)\r\n          };\r\n          const response = await axios.post('http://localhost:5000/verify', {'image64':image64});\r\n          console.log(response.data.identity);\r\n          if(response.data.identity){\r\n          \tthis.stop();\r\n\t        this.setState({\r\n\t        \tverify:true,\r\n\t        \tidenity: response.data.identity\r\n\t        })\r\n          } else {\r\n          \tthis.stop();\r\n          \talert(\"Not a registered user!\")\r\n          \tthis.props.backhome();\r\n          }\r\n        });\r\n    }\r\n\r\n\trender(){\r\n\r\n\t\tlet verify = (<div>\r\n\t\t\t\t\t<div className=\"limiter\">\r\n\t\t\t\t\t\t<div className=\"container-login100\">\r\n\t\t\t\t\t\t\t<div className=\"wrap-login100 p-l-110 p-r-110 p-t-62 p-b-33\">\r\n\t\t\t\t\t\t\t\t<span className=\"login100-form-title p-b-53\">\r\n\t\t\t\t\t\t\t\t\tSign In With\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<span className=\"txt1\">\r\n\t\t\t\t\t\t\t\t\tEmail Id\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<div className=\"wrap-input100 validate-input\" data-validate = \"Username is required\">\r\n\t\t\t\t\t\t\t\t\t<input id=\"mood1\" className=\"input100\" type=\"email\" name=\"email\" />\r\n\t\t\t\t\t\t\t\t\t<span className=\"focus-input100\"></span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<span className=\"txt1\">\r\n\t\t\t\t\t\t\t\t\tPassword\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<div className=\"wrap-input100 validate-input\" data-validate = \"Username is required\">\r\n\t\t\t\t\t\t\t\t\t<input id=\"mood2\" className=\"input100\" type=\"password\" name=\"password\" />\r\n\t\t\t\t\t\t\t\t\t<span className=\"focus-input100\"></span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Sketch setup={this.setup} draw={this.draw}/>\r\n\t\t\t\t\t\t\t\t<div className=\"container-login100-form-btn m-t-17\">\r\n\t\t\t\t\t\t\t\t\t<button id=\"submit\" onClick={this.setup2.bind(this)} className=\"login100-form-btn\">\r\n\t\t\t\t\t\t\t\t\t\tLogin\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"container-login100-form-btn m-t-17\">\r\n\t\t\t\t\t\t\t\t\t<button onClick={this.logout.bind(this)} className=\"login100-form-btn\">\r\n\t\t\t\t\t\t\t\t\t\tBack!\r\n\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div id=\"dropDownSelect1\"></div></div>\r\n\t\t)\r\n    \treturn (\r\n\t\t\t<div >\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.state.verify ?\r\n\t\t\t\t\t<Homepage \r\n\t\t\t\t\t\tname={this.state.idenity}\r\n\t\t\t\t\t\tbackhome={this.logout}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t: verify\r\n\t\t\t\t}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\nexport default Verify;"]},"metadata":{},"sourceType":"module"}